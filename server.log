nohup: ignoring input
âœ… Database connected successfully.
âœ… Database connected
ðŸš€ Found 1 new migration files to apply.
â–¶ï¸ Applying migration: 019_sync_report_status_enum.sql
âœ… Applied 019_sync_report_status_enum.sql
Server running on port 3001
API available at http://localhost:3001/api
[0mGET /api/clients [36m304[0m 117.160 ms - -[0m
Received report data: {
  "client_name": "Bakiza",
  "client_phone": "01120352101",
  "client_address": "Ø¨ÙŠØª Ø³ÙŠÙ",
  "device_model": "Dell Latitude 7490",
  "serial_number": "",
  "device_price": "",
  "cpu": "intel core i5-8th",
  "gpu": "intel UHD Graphics 620",
  "ram": "32GB Ram",
  "storage": "",
  "display_size": "",
  "battery_capacity": "",
  "inspection_date": "2026-02-06T00:00:00.000Z",
  "order_number": "RP-2026-8783",
  "hardware_status": "[{\"id\":1,\"componentName\":\"CPU\",\"nameAr\":\"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":2,\"componentName\":\"GPU\",\"nameAr\":\"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":3,\"componentName\":\"Battery\",\"nameAr\":\"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":4,\"componentName\":\"Storage\",\"nameAr\":\"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":5,\"componentName\":\"Keyboard\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":6,\"componentName\":\"Display\",\"nameAr\":\"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":7,\"componentName\":\"Touchpad\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":8,\"componentName\":\"Wifi\",\"nameAr\":\"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":9,\"componentName\":\"Bluetooth\",\"nameAr\":\"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":10,\"componentName\":\"Ports\",\"nameAr\":\"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)\",\"status\":\"pass\",\"comment\":\"\"}]",
  "test_screenshots": [
    {
      "component": "Info",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "CPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "GPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Storage",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Keyboard",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Battery",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "DxDiag",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    }
  ],
  "external_images": "[]",
  "youtube_url": "",
  "notes": "",
  "billing_enabled": false,
  "amount": "0",
  "tax_rate": "0",
  "discount": "0",
  "invoice_items": "[]",
  "status": "completed",
  "client_id": 214
}
========== DEVICE SPECS DEBUG ==========
Received device specs in request:
  cpu: intel core i5-8th
  gpu: intel UHD Graphics 620
  ram: 32GB Ram
  storage: 
========================================
Device spec columns exist in database. Including specs in report creation.
Creating report with direct schema: {
  client_name: 'Bakiza',
  client_phone: '01120352101',
  client_address: 'Ø¨ÙŠØª Ø³ÙŠÙ',
  device_model: 'Dell Latitude 7490',
  serial_number: '',
  device_price: '',
  cpu: 'intel core i5-8th',
  gpu: 'intel UHD Graphics 620',
  ram: '32GB Ram',
  storage: '',
  display_size: '',
  battery_capacity: '',
  inspection_date: '2026-02-06T00:00:00.000Z',
  order_number: 'RP-2026-8783',
  hardware_status: '[{"id":1,"componentName":"CPU","nameAr":"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)","status":"pass","comment":""},{"id":2,"componentName":"GPU","nameAr":"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)","status":"pass","comment":""},{"id":3,"componentName":"Battery","nameAr":"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)","status":"pass","comment":""},{"id":4,"componentName":"Storage","nameAr":"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)","status":"pass","comment":""},{"id":5,"componentName":"Keyboard","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)","status":"pass","comment":""},{"id":6,"componentName":"Display","nameAr":"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)","status":"pass","comment":""},{"id":7,"componentName":"Touchpad","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)","status":"pass","comment":""},{"id":8,"componentName":"Wifi","nameAr":"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)","status":"pass","comment":""},{"id":9,"componentName":"Bluetooth","nameAr":"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)","status":"pass","comment":""},{"id":10,"componentName":"Ports","nameAr":"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)","status":"pass","comment":""}]',
  test_screenshots: [
    {
      component: 'Info',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    { component: 'CPU', url: '', comment: '', type: 'test_screenshot' },
    { component: 'GPU', url: '', comment: '', type: 'test_screenshot' },
    {
      component: 'Storage',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Keyboard',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Battery',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'DxDiag',
      url: '',
      comment: '',
      type: 'test_screenshot'
    }
  ],
  external_images: '[]',
  youtube_url: '',
  notes: '',
  billing_enabled: false,
  amount: '0',
  tax_rate: '0',
  discount: '0',
  invoice_items: '[]',
  status: 'completed',
  client_id: 214
}
Report created successfully: RPT1770351046325323
[0mPOST /api/reports [32m201[0m 76.390 ms - 1791[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 259 reports
Status breakdown: { completed: 163, pending: 9, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'completed', 'pending', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z,
    order_number: 'RP-TEST-002',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770351046325323',
    status: 'completed',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:10:46.000Z
  },
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [32m200[0m 298.224 ms - 700256[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 259 reports
Status breakdown: { completed: 163, pending: 9, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'completed', 'pending', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z,
    order_number: 'RP-TEST-002',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770351046325323',
    status: 'completed',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:10:46.000Z
  },
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 247.241 ms - -[0m
Fetching report with ID: RPT1770351046325323
Found report: RPT1770351046325323
Report has 0 linked invoices
Report data keys: [
  'id',                   'client_id',
  'client_name',          'client_phone',
  'client_email',         'client_address',
  'order_number',         'device_model',
  'serial_number',        'cpu',
  'gpu',                  'ram',
  'storage',              'inspection_date',
  'hardware_status',      'external_images',
  'notes',                'billing_enabled',
  'amount',               'invoice_created',
  'invoice_id',           'invoice_date',
  'status',               'admin_id',
  'created_at',           'updated_at',
  'warranty_alerts_log',  'is_confirmed',
  'selected_accessories', 'client',
  'relatedInvoices'
]
Report data relatedInvoices: []
[0mGET /api/reports/RPT1770351046325323 [32m200[0m 46.830 ms - 2089[0m
Fetching report with ID: RPT1770351046325323
Found report: RPT1770351046325323
Report has 0 linked invoices
Report data keys: [
  'id',                   'client_id',
  'client_name',          'client_phone',
  'client_email',         'client_address',
  'order_number',         'device_model',
  'serial_number',        'cpu',
  'gpu',                  'ram',
  'storage',              'inspection_date',
  'hardware_status',      'external_images',
  'notes',                'billing_enabled',
  'amount',               'invoice_created',
  'invoice_id',           'invoice_date',
  'status',               'admin_id',
  'created_at',           'updated_at',
  'warranty_alerts_log',  'is_confirmed',
  'selected_accessories', 'client',
  'relatedInvoices'
]
Report data relatedInvoices: []
[0mGET /api/reports/RPT1770351046325323 [36m304[0m 66.124 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 259 reports
Status breakdown: { completed: 163, pending: 9, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'completed', 'pending', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z,
    order_number: 'RP-TEST-002',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770351046325323',
    status: 'completed',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:10:46.000Z
  },
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 336.414 ms - -[0m
[0mDELETE /api/reports/RPT1770351046325323 [32m200[0m 40.518 ms - 41[0m
Fetching report with ID: RPT1770350749022262
Found report: RPT1770350749022262
Report has 0 linked invoices
Report data keys: [
  'id',                   'client_id',
  'client_name',          'client_phone',
  'client_email',         'client_address',
  'order_number',         'device_model',
  'serial_number',        'cpu',
  'gpu',                  'ram',
  'storage',              'inspection_date',
  'hardware_status',      'external_images',
  'notes',                'billing_enabled',
  'amount',               'invoice_created',
  'invoice_id',           'invoice_date',
  'status',               'admin_id',
  'created_at',           'updated_at',
  'warranty_alerts_log',  'is_confirmed',
  'selected_accessories', 'client',
  'relatedInvoices'
]
Report data relatedInvoices: []
[0mGET /api/reports/RPT1770350749022262 [32m200[0m 19.516 ms - 970[0m
Fetching report with ID: RPT1770350749022262
Found report: RPT1770350749022262
Report has 0 linked invoices
Report data keys: [
  'id',                   'client_id',
  'client_name',          'client_phone',
  'client_email',         'client_address',
  'order_number',         'device_model',
  'serial_number',        'cpu',
  'gpu',                  'ram',
  'storage',              'inspection_date',
  'hardware_status',      'external_images',
  'notes',                'billing_enabled',
  'amount',               'invoice_created',
  'invoice_id',           'invoice_date',
  'status',               'admin_id',
  'created_at',           'updated_at',
  'warranty_alerts_log',  'is_confirmed',
  'selected_accessories', 'client',
  'relatedInvoices'
]
Report data relatedInvoices: []
[0mGET /api/reports/RPT1770350749022262 [36m304[0m 29.033 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z,
    order_number: 'RP-TEST-002',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770350749022262',
    status: 'pending',
    inspection_date: 2024-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:05:49.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [32m200[0m 256.458 ms - 698240[0m
[0mDELETE /api/reports/RPT1770350749022262 [32m200[0m 21.874 ms - 41[0m
[0mGET /api/clients [36m304[0m 66.505 ms - -[0m
[0mGET /api/reports/stats/frequent-specs [36m304[0m 46.613 ms - -[0m
[0mGET /api/clients [36m304[0m 59.271 ms - -[0m
Received report data: {
  "client_name": "Bakiza",
  "client_phone": "01120352101",
  "client_address": "Ø¨ÙŠØª Ø³ÙŠÙ",
  "device_model": "HP EliteBook 845 G7 ",
  "serial_number": "",
  "device_price": "",
  "cpu": "",
  "gpu": "",
  "ram": "",
  "storage": "",
  "display_size": "",
  "battery_capacity": "",
  "inspection_date": "2026-02-06T00:00:00.000Z",
  "order_number": "RP-2026-7155",
  "hardware_status": "[{\"id\":1,\"componentName\":\"CPU\",\"nameAr\":\"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":2,\"componentName\":\"GPU\",\"nameAr\":\"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":3,\"componentName\":\"Battery\",\"nameAr\":\"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":4,\"componentName\":\"Storage\",\"nameAr\":\"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":5,\"componentName\":\"Keyboard\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":6,\"componentName\":\"Display\",\"nameAr\":\"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":7,\"componentName\":\"Touchpad\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":8,\"componentName\":\"Wifi\",\"nameAr\":\"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":9,\"componentName\":\"Bluetooth\",\"nameAr\":\"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":10,\"componentName\":\"Ports\",\"nameAr\":\"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)\",\"status\":\"pass\",\"comment\":\"\"}]",
  "test_screenshots": [
    {
      "component": "Info",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "CPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "GPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Storage",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Keyboard",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Battery",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "DxDiag",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    }
  ],
  "external_images": "[]",
  "youtube_url": "",
  "notes": "",
  "billing_enabled": false,
  "amount": "0",
  "tax_rate": "0",
  "discount": "0",
  "invoice_items": "[]",
  "status": "pending",
  "client_id": 214
}
========== DEVICE SPECS DEBUG ==========
Received device specs in request:
  cpu: 
  gpu: 
  ram: 
  storage: 
========================================
Device spec columns exist in database. Including specs in report creation.
Creating report with direct schema: {
  client_name: 'Bakiza',
  client_phone: '01120352101',
  client_address: 'Ø¨ÙŠØª Ø³ÙŠÙ',
  device_model: 'HP EliteBook 845 G7 ',
  serial_number: '',
  device_price: '',
  cpu: '',
  gpu: '',
  ram: '',
  storage: '',
  display_size: '',
  battery_capacity: '',
  inspection_date: '2026-02-06T00:00:00.000Z',
  order_number: 'RP-2026-7155',
  hardware_status: '[{"id":1,"componentName":"CPU","nameAr":"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)","status":"pass","comment":""},{"id":2,"componentName":"GPU","nameAr":"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)","status":"pass","comment":""},{"id":3,"componentName":"Battery","nameAr":"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)","status":"pass","comment":""},{"id":4,"componentName":"Storage","nameAr":"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)","status":"pass","comment":""},{"id":5,"componentName":"Keyboard","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)","status":"pass","comment":""},{"id":6,"componentName":"Display","nameAr":"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)","status":"pass","comment":""},{"id":7,"componentName":"Touchpad","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)","status":"pass","comment":""},{"id":8,"componentName":"Wifi","nameAr":"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)","status":"pass","comment":""},{"id":9,"componentName":"Bluetooth","nameAr":"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)","status":"pass","comment":""},{"id":10,"componentName":"Ports","nameAr":"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)","status":"pass","comment":""}]',
  test_screenshots: [
    {
      component: 'Info',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    { component: 'CPU', url: '', comment: '', type: 'test_screenshot' },
    { component: 'GPU', url: '', comment: '', type: 'test_screenshot' },
    {
      component: 'Storage',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Keyboard',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Battery',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'DxDiag',
      url: '',
      comment: '',
      type: 'test_screenshot'
    }
  ],
  external_images: '[]',
  youtube_url: '',
  notes: '',
  billing_enabled: false,
  amount: '0',
  tax_rate: '0',
  discount: '0',
  invoice_items: '[]',
  status: 'pending',
  client_id: 214
}
Report created successfully: RPT1770351903418151
[0mPOST /api/reports [32m201[0m 39.241 ms - 1744[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z,
    order_number: 'RP-2026-7155',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [32m200[0m 262.615 ms - 699421[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z,
    order_number: 'RP-2026-7155',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 195.370 ms - -[0m
Fetching report with ID: RPT1770351903418151
Found report: RPT1770351903418151
Report has 0 linked invoices
Report data keys: [
  'id',                   'client_id',
  'client_name',          'client_phone',
  'client_email',         'client_address',
  'order_number',         'device_model',
  'serial_number',        'cpu',
  'gpu',                  'ram',
  'storage',              'inspection_date',
  'hardware_status',      'external_images',
  'notes',                'billing_enabled',
  'amount',               'invoice_created',
  'invoice_id',           'invoice_date',
  'status',               'admin_id',
  'created_at',           'updated_at',
  'warranty_alerts_log',  'is_confirmed',
  'selected_accessories', 'client',
  'relatedInvoices'
]
Report data relatedInvoices: []
[0mGET /api/reports/RPT1770351903418151 [32m200[0m 26.275 ms - 2042[0m
Fetching report with ID: RPT1770351903418151
Found report: RPT1770351903418151
Report has 0 linked invoices
Report data keys: [
  'id',                   'client_id',
  'client_name',          'client_phone',
  'client_email',         'client_address',
  'order_number',         'device_model',
  'serial_number',        'cpu',
  'gpu',                  'ram',
  'storage',              'inspection_date',
  'hardware_status',      'external_images',
  'notes',                'billing_enabled',
  'amount',               'invoice_created',
  'invoice_id',           'invoice_date',
  'status',               'admin_id',
  'created_at',           'updated_at',
  'warranty_alerts_log',  'is_confirmed',
  'selected_accessories', 'client',
  'relatedInvoices'
]
Report data relatedInvoices: []
[0mGET /api/reports/RPT1770351903418151 [36m304[0m 14.248 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z,
    order_number: 'RP-2026-7155',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 271.694 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z,
    order_number: 'RP-2026-7155',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770351903418151',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:25:03.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 243.023 ms - -[0m
[0mDELETE /api/reports/RPT1770351903418151 [32m200[0m 17.645 ms - 41[0m
[0mGET /api/clients [36m304[0m 63.228 ms - -[0m
[0mGET /api/reports/stats/frequent-specs [36m304[0m 57.606 ms - -[0m
[0mGET /api/clients [36m304[0m 49.000 ms - -[0m
Received report data: {
  "client_name": "Bakiza",
  "client_phone": "01120352101",
  "client_address": "Ø¨ÙŠØª Ø³ÙŠÙ",
  "device_model": "Dell 7400",
  "serial_number": "",
  "device_price": "10000",
  "cpu": "",
  "gpu": "",
  "ram": "",
  "storage": "",
  "display_size": "",
  "battery_capacity": "",
  "inspection_date": "2026-02-06T00:00:00.000Z",
  "order_number": "RP-2026-9648",
  "hardware_status": "[{\"id\":1,\"componentName\":\"CPU\",\"nameAr\":\"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":2,\"componentName\":\"GPU\",\"nameAr\":\"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":3,\"componentName\":\"Battery\",\"nameAr\":\"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":4,\"componentName\":\"Storage\",\"nameAr\":\"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":5,\"componentName\":\"Keyboard\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":6,\"componentName\":\"Display\",\"nameAr\":\"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":7,\"componentName\":\"Touchpad\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":8,\"componentName\":\"Wifi\",\"nameAr\":\"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":9,\"componentName\":\"Bluetooth\",\"nameAr\":\"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":10,\"componentName\":\"Ports\",\"nameAr\":\"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)\",\"status\":\"pass\",\"comment\":\"\"}]",
  "test_screenshots": [
    {
      "component": "Info",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "CPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "GPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Storage",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Keyboard",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Battery",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "DxDiag",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    }
  ],
  "external_images": "[]",
  "youtube_url": "",
  "notes": "",
  "billing_enabled": true,
  "amount": "10000",
  "tax_rate": "0",
  "discount": "0",
  "invoice_items": "[]",
  "status": "pending",
  "client_id": 214
}
========== DEVICE SPECS DEBUG ==========
Received device specs in request:
  cpu: 
  gpu: 
  ram: 
  storage: 
========================================
Device spec columns exist in database. Including specs in report creation.
Creating report with direct schema: {
  client_name: 'Bakiza',
  client_phone: '01120352101',
  client_address: 'Ø¨ÙŠØª Ø³ÙŠÙ',
  device_model: 'Dell 7400',
  serial_number: '',
  device_price: '10000',
  cpu: '',
  gpu: '',
  ram: '',
  storage: '',
  display_size: '',
  battery_capacity: '',
  inspection_date: '2026-02-06T00:00:00.000Z',
  order_number: 'RP-2026-9648',
  hardware_status: '[{"id":1,"componentName":"CPU","nameAr":"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)","status":"pass","comment":""},{"id":2,"componentName":"GPU","nameAr":"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)","status":"pass","comment":""},{"id":3,"componentName":"Battery","nameAr":"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)","status":"pass","comment":""},{"id":4,"componentName":"Storage","nameAr":"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)","status":"pass","comment":""},{"id":5,"componentName":"Keyboard","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)","status":"pass","comment":""},{"id":6,"componentName":"Display","nameAr":"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)","status":"pass","comment":""},{"id":7,"componentName":"Touchpad","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)","status":"pass","comment":""},{"id":8,"componentName":"Wifi","nameAr":"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)","status":"pass","comment":""},{"id":9,"componentName":"Bluetooth","nameAr":"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)","status":"pass","comment":""},{"id":10,"componentName":"Ports","nameAr":"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)","status":"pass","comment":""}]',
  test_screenshots: [
    {
      component: 'Info',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    { component: 'CPU', url: '', comment: '', type: 'test_screenshot' },
    { component: 'GPU', url: '', comment: '', type: 'test_screenshot' },
    {
      component: 'Storage',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Keyboard',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Battery',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'DxDiag',
      url: '',
      comment: '',
      type: 'test_screenshot'
    }
  ],
  external_images: '[]',
  youtube_url: '',
  notes: '',
  billing_enabled: true,
  amount: '10000',
  tax_rate: '0',
  discount: '0',
  invoice_items: '[]',
  status: 'pending',
  client_id: 214
}
Report created successfully: RPT177035240953643
[0mPOST /api/reports [32m201[0m 38.320 ms - 1735[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [32m200[0m 227.297 ms - 699412[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 231.937 ms - -[0m
[0mGET /api/invoices [36m304[0m 186.503 ms - -[0m
[0mGET /api/invoices [36m304[0m 109.039 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 341.011 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 244.737 ms - -[0m
[0mGET /api/clients [36m304[0m 60.177 ms - -[0m
[0mGET /api/clients [36m304[0m 55.987 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 346.958 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 215.732 ms - -[0m
[0mGET /api/clients [36m304[0m 54.231 ms - -[0m
[0mGET /api/clients [36m304[0m 39.164 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 222.568 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 258 reports
Status breakdown: { pending: 9, completed: 162, active: 1, cancelled: 24, undefined: 62 }
Pending reports in result: 72
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1768826801096291',
    status: 'pending',
    inspection_date: 2026-01-24T00:00:00.000Z,
    created_at: 2026-01-19T12:46:37.000Z,
    order_number: 'LPK10000',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 232.768 ms - -[0m
[0mGET /api/clients [36m304[0m 46.673 ms - -[0m
[0mGET /api/reports/stats/frequent-specs [36m304[0m 36.527 ms - -[0m
[0mGET /api/clients [36m304[0m 66.871 ms - -[0m
Received report data: {
  "client_name": "Bakiza",
  "client_phone": "01120352101",
  "client_address": "Ø¨ÙŠØª Ø³ÙŠÙ",
  "device_model": "model",
  "serial_number": "7890",
  "device_price": "9000",
  "cpu": "intel core i5-8th",
  "gpu": "intel UHD Graphics 620",
  "ram": "16GB Ram",
  "storage": "512GB  SSD",
  "display_size": "",
  "battery_capacity": "",
  "inspection_date": "2026-02-06T00:00:00.000Z",
  "order_number": "RP-2026-1715",
  "hardware_status": "[{\"id\":1,\"componentName\":\"CPU\",\"nameAr\":\"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":2,\"componentName\":\"GPU\",\"nameAr\":\"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":3,\"componentName\":\"Battery\",\"nameAr\":\"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":4,\"componentName\":\"Storage\",\"nameAr\":\"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":5,\"componentName\":\"Keyboard\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":6,\"componentName\":\"Display\",\"nameAr\":\"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":7,\"componentName\":\"Touchpad\",\"nameAr\":\"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":8,\"componentName\":\"Wifi\",\"nameAr\":\"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":9,\"componentName\":\"Bluetooth\",\"nameAr\":\"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)\",\"status\":\"pass\",\"comment\":\"\"},{\"id\":10,\"componentName\":\"Ports\",\"nameAr\":\"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)\",\"status\":\"pass\",\"comment\":\"\"}]",
  "test_screenshots": [
    {
      "component": "Info",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "CPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "GPU",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Storage",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Keyboard",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "Battery",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    },
    {
      "component": "DxDiag",
      "url": "",
      "comment": "",
      "type": "test_screenshot"
    }
  ],
  "external_images": "[]",
  "youtube_url": "",
  "notes": "",
  "billing_enabled": true,
  "amount": "9000",
  "tax_rate": "0",
  "discount": "0",
  "invoice_items": "[{\"name\":\"usb\",\"price\":\"200\"},{\"name\":\"x\",\"price\":\"500\"}]",
  "status": "pending",
  "client_id": 214
}
========== DEVICE SPECS DEBUG ==========
Received device specs in request:
  cpu: intel core i5-8th
  gpu: intel UHD Graphics 620
  ram: 16GB Ram
  storage: 512GB  SSD
========================================
Device spec columns exist in database. Including specs in report creation.
Creating report with direct schema: {
  client_name: 'Bakiza',
  client_phone: '01120352101',
  client_address: 'Ø¨ÙŠØª Ø³ÙŠÙ',
  device_model: 'model',
  serial_number: '7890',
  device_price: '9000',
  cpu: 'intel core i5-8th',
  gpu: 'intel UHD Graphics 620',
  ram: '16GB Ram',
  storage: '512GB  SSD',
  display_size: '',
  battery_capacity: '',
  inspection_date: '2026-02-06T00:00:00.000Z',
  order_number: 'RP-2026-1715',
  hardware_status: '[{"id":1,"componentName":"CPU","nameAr":"Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU)","status":"pass","comment":""},{"id":2,"componentName":"GPU","nameAr":"Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª (GPU)","status":"pass","comment":""},{"id":3,"componentName":"Battery","nameAr":"Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© (Battery)","status":"pass","comment":""},{"id":4,"componentName":"Storage","nameAr":"ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Disk)","status":"pass","comment":""},{"id":5,"componentName":"Keyboard","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Keyboard)","status":"pass","comment":""},{"id":6,"componentName":"Display","nameAr":"Ø§Ù„Ø´Ø§Ø´Ø© (Screen)","status":"pass","comment":""},{"id":7,"componentName":"Touchpad","nameAr":"Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ù…Ø³ (Touchpad)","status":"pass","comment":""},{"id":8,"componentName":"Wifi","nameAr":"Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ (WiFi)","status":"pass","comment":""},{"id":9,"componentName":"Bluetooth","nameAr":"Ø§Ù„Ø¨Ù„ÙˆØªÙˆØ« (Bluetooth)","status":"pass","comment":""},{"id":10,"componentName":"Ports","nameAr":"Ø§Ù„Ù…Ù†Ø§ÙØ° (Ports)","status":"pass","comment":""}]',
  test_screenshots: [
    {
      component: 'Info',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    { component: 'CPU', url: '', comment: '', type: 'test_screenshot' },
    { component: 'GPU', url: '', comment: '', type: 'test_screenshot' },
    {
      component: 'Storage',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Keyboard',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'Battery',
      url: '',
      comment: '',
      type: 'test_screenshot'
    },
    {
      component: 'DxDiag',
      url: '',
      comment: '',
      type: 'test_screenshot'
    }
  ],
  external_images: '[]',
  youtube_url: '',
  notes: '',
  billing_enabled: true,
  amount: '9000',
  tax_rate: '0',
  discount: '0',
  invoice_items: '[{"name":"usb","price":"200"},{"name":"x","price":"500"}]',
  status: 'pending',
  client_id: 214
}
Report created successfully: RPT1770353911440888
[0mPOST /api/reports [32m201[0m 97.147 ms - 1792[0m
[0mPOST /api/invoices [32m201[0m 456.695 ms - 3699[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 259 reports
Status breakdown: {
  pending: 10,
  completed: 162,
  active: 1,
  cancelled: 24,
  undefined: 62
}
Pending reports in result: 73
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z,
    order_number: 'RP-2026-1715',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [32m200[0m 424.380 ms - 701526[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 259 reports
Status breakdown: {
  pending: 10,
  completed: 162,
  active: 1,
  cancelled: 24,
  undefined: 62
}
Pending reports in result: 73
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z,
    order_number: 'RP-2026-1715',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 497.076 ms - -[0m
[0mGET /api/invoices [32m200[0m 253.984 ms - 144764[0m
[0mGET /api/invoices [36m304[0m 208.363 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 259 reports
Status breakdown: {
  pending: 10,
  completed: 162,
  active: 1,
  cancelled: 24,
  undefined: 62
}
Pending reports in result: 73
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z,
    order_number: 'RP-2026-1715',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 465.976 ms - -[0m
Backend: Received request to /api/reports
Backend: req.query: {
  "fetch_mode": "all_reports"
}
Backend: Extracted id: undefined
Backend: ID not provided or falsy. Processing request for ALL reports.
Fetching all reports eligible for invoicing
=== BACKEND REPORTS QUERY DEBUG ===
Query parameters: { fetch_mode: 'all_reports' }
Where conditions array length: 0
Where conditions: []
Final where clause: {}
All unique statuses in database: [ 'NULL', 'completed', 'cancelled', 'pending', 'active' ]
=== BEFORE QUERY ===
Where clause structure: {}
Where clause keys: []
=== SQL QUERY ===
Executing (default): SELECT `Report`.`id`, `Report`.`client_id`, `Report`.`client_name`, `Report`.`client_phone`, `Report`.`client_email`, `Report`.`client_address`, `Report`.`order_number`, `Report`.`device_model`, `Report`.`serial_number`, `Report`.`cpu`, `Report`.`gpu`, `Report`.`ram`, `Report`.`storage`, `Report`.`inspection_date`, `Report`.`hardware_status`, `Report`.`external_images`, `Report`.`notes`, `Report`.`billing_enabled`, `Report`.`amount`, `Report`.`invoice_created`, `Report`.`invoice_id`, `Report`.`invoice_date`, `Report`.`status`, `Report`.`admin_id`, `Report`.`created_at`, `Report`.`updated_at`, `Report`.`warranty_alerts_log`, `Report`.`is_confirmed`, `Report`.`selected_accessories`, `client`.`id` AS `client.id`, `client`.`name` AS `client.name`, `client`.`phone` AS `client.phone`, `client`.`email` AS `client.email`, `relatedInvoices`.`id` AS `relatedInvoices.id`, `relatedInvoices`.`total` AS `relatedInvoices.total`, `relatedInvoices`.`paymentStatus` AS `relatedInvoices.paymentStatus` FROM `reports` AS `Report` LEFT OUTER JOIN `clients` AS `client` ON `Report`.`client_id` = `client`.`id` LEFT OUTER JOIN ( `invoice_reports` AS `relatedInvoices->InvoiceReport` INNER JOIN `invoices` AS `relatedInvoices` ON `relatedInvoices`.`id` = `relatedInvoices->InvoiceReport`.`invoice_id`) ON `Report`.`id` = `relatedInvoices->InvoiceReport`.`report_id` ORDER BY `Report`.`created_at` DESC;
=== END SQL QUERY ===
Found 259 reports
Status breakdown: {
  pending: 10,
  completed: 162,
  active: 1,
  cancelled: 24,
  undefined: 62
}
Pending reports in result: 73
All statuses in result: [ 'pending', 'completed', 'active', 'cancelled', '' ]
Sample pending reports: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z,
    order_number: 'RP-2026-1715',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z,
    order_number: 'RP-2026-9648',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z,
    order_number: 'LPK930',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522321116363',
    status: 'pending',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:58:34.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  },
  {
    id: 'RPT1769522069213944',
    status: 'active',
    inspection_date: 2026-01-27T00:00:00.000Z,
    created_at: 2026-01-27T13:54:22.000Z,
    order_number: 'LPK925',
    hasInspectionDate: true,
    inspectionDateInRange: true,
    createdDateInRange: true
  }
]
Sample reports with dates: [
  {
    id: 'RPT1770353911440888',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:58:31.000Z
  },
  {
    id: 'RPT177035240953643',
    status: 'pending',
    inspection_date: 2026-02-06T00:00:00.000Z,
    created_at: 2026-02-06T04:33:29.000Z
  },
  {
    id: 'RPT1770125639410751',
    status: 'pending',
    inspection_date: 2026-02-03T00:00:00.000Z,
    created_at: 2026-02-03T13:33:59.000Z
  },
  {
    id: 'RPT176996708975943',
    status: 'completed',
    inspection_date: 2026-02-01T00:00:00.000Z,
    created_at: 2026-02-01T17:31:29.000Z
  },
  {
    id: 'RPT1769604657087804',
    status: 'completed',
    inspection_date: 2026-01-28T00:00:00.000Z,
    created_at: 2026-01-28T12:50:49.000Z
  }
]
=== END BACKEND REPORTS QUERY DEBUG ===
[0mGET /api/reports?fetch_mode=all_reports [36m304[0m 280.257 ms - -[0m
